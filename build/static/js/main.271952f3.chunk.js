(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),l=t.n(u),c=t(14),o=t(2),i=t(3),m=t.n(i),d="/api/persons",f=function(){return m.a.get(d).then((function(e){return e.data}))},s=function(e){return m.a.post(d,e).then((function(e){return e.data}))},b=function(e,n){return m.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},h=function(e){m.a.delete("".concat(d,"/").concat(e))},p=function(e){var n=e.person,t=e.newFilter,a=e.deleteNumber;return n.name.toUpperCase().includes(t.toUpperCase())?r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("p",null,n.name," ",n.number,r.a.createElement("button",{onClick:a,id:n.id},"delete")))):r.a.createElement("div",null,r.a.createElement("p",null))},E=function(e){var n=e.newFilter,t=e.handleFilterChange;return r.a.createElement("div",null,"Filter shown with: ",r.a.createElement("input",{value:n,onChange:t}))},v=function(e){var n=e.addNumber,t=e.newName,a=e.handleNameChange,u=e.newNumber,l=e.handleNumberChange;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:u,onChange:l})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},g=function(e){var n=e.message;if(null===n)return null;return r.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:40,borderStyle:"solid",borderRadius:10,padding:10,marginBottom:10},className:"error"},n)},w=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],l=Object(a.useState)(""),i=Object(o.a)(l,2),m=i[0],d=i[1],w=Object(a.useState)(""),N=Object(o.a)(w,2),j=N[0],C=N[1],O=Object(a.useState)(""),y=Object(o.a)(O,2),S=y[0],k=y[1],F=Object(a.useState)(null),T=Object(o.a)(F,2),B=T[0],D=T[1];Object(a.useEffect)((function(){f().then((function(e){u(e)}))}),[]);var J=function(e){e.preventDefault(),window.confirm("Are you sure you want to delete this ?")&&(h(e.target.id),f().then((function(e){u(e),D("Selected number deleted !"),setTimeout((function(){D(null)}),5e3)})))},U=function(e){var n=t.find((function(n){return n.id===e})),a=Object(c.a)({},n,{number:j});b(e,a).then((function(n){u(t.map((function(t){return t.id!==e?t:n})))}))};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(g,{message:B}),r.a.createElement("div",null,r.a.createElement(E,{newFilter:S,handleFilterChange:function(e){k(e.target.value)}})),r.a.createElement("h2",null,"add a new"),r.a.createElement(v,{addNumber:function(e){e.preventDefault();var n=0,a={name:m,number:j};t.forEach((function(e){e.name===a.name&&(n=1,window.confirm("".concat(m," has already been added. Would you like to replace the number of ").concat(m," ?"))&&(U(e.id),d(""),C(""),D("".concat(m,"'s number has been changed !")),setTimeout((function(){D(null)}),5e3)),d(""),C(""))})),0===n&&s(a).then((function(e){u(t.concat(e)),d(""),C(""),D("".concat(m," has been added !")),setTimeout((function(){D(null)}),5e3)})),n=0},newName:m,handleNameChange:function(e){d(e.target.value)},newNumber:j,handleNumberChange:function(e){C(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),t.map((function(e,n){return r.a.createElement(p,{key:n,person:e,newFilter:S,deleteNumber:J})})))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.271952f3.chunk.js.map